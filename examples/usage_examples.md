# ä½¿ç”¨ç¯„ä¾‹ (Usage Examples)

## åŸºæœ¬ä½¿ç”¨

### 1. æº–å‚™éŸ³è¨Šæª”æ¡ˆ
```bash
# Linux/macOS: å°‡æ‚¨çš„éŸ³è¨Šæª”æ¡ˆæ”¾åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„
cp /path/to/your/audio.aac source.aac

# Windows: è¤‡è£½éŸ³è¨Šæª”æ¡ˆåˆ°å°ˆæ¡ˆæ ¹ç›®éŒ„
copy "C:\path\to\your\audio.aac" source.aac
```

### 2. åŸ·è¡Œè½‰éŒ„
```bash
# Linux/macOS: è‡ªå‹•è½‰éŒ„
python3 transcribe.py

# Windows: è‡ªå‹•è½‰éŒ„
python transcribe.py
```

### 3. æŸ¥çœ‹çµæœ
```bash
# Linux/macOS: çµæœæœƒä¿å­˜åœ¨ è½‰éŒ„çµæœ/ ç›®éŒ„
ls è½‰éŒ„çµæœ/
cat è½‰éŒ„çµæœ/result-source-*.txt

# Windows: çµæœæœƒä¿å­˜åœ¨ è½‰éŒ„çµæœ\ ç›®éŒ„
dir è½‰éŒ„çµæœ\
type è½‰éŒ„çµæœ\result-source-*.txt
```

## é€²éšä½¿ç”¨

### æ¸¬è©¦ç‰¹å®šæ®µè½
```bash
# æ¸¬è©¦ 12-22 ç§’çš„æ®µè½
python3 transcribe.py test
```

### è‡ªå®šç¾©æ¸¬è©¦æ™‚é–“
ä¿®æ”¹ `transcribe.py` ä¸­çš„æ¸¬è©¦å‡½æ•¸ï¼š
```python
def test_audio_segment(audio_path, start_time=10, duration=10):
    # ä¿®æ”¹ start_time å’Œ duration åƒæ•¸
    test_audio_segment("source.aac", start_time=30, duration=20)
```

## æ”¯æ´çš„éŸ³è¨Šæ ¼å¼

### è¼¸å…¥æ ¼å¼
- `.aac` - AAC éŸ³è¨Šç·¨ç¢¼
- `.mp3` - MP3 éŸ³è¨Šç·¨ç¢¼
- `.wav` - WAV ç„¡æéŸ³è¨Š
- `.m4a` - M4A éŸ³è¨Šç·¨ç¢¼
- `.flac` - FLAC ç„¡æéŸ³è¨Š
- `.ogg` - OGG éŸ³è¨Šç·¨ç¢¼

### è¼¸å‡ºæ ¼å¼
- `.txt` - ç´”æ–‡å­—è½‰éŒ„çµæœ
- åŒ…å«æ™‚é–“æˆ³çš„åˆ†æ®µè½‰éŒ„

## ç¡¬é«”å„ªåŒ–ç¯„ä¾‹

### Apple Silicon (M1/M2/M3/M4)
```bash
# è‡ªå‹•åµæ¸¬ä¸¦ä½¿ç”¨ MPS åŠ é€Ÿ
python3 transcribe.py
# è¼¸å‡º: âœ… ä½¿ç”¨ Apple Silicon MPS åŠ é€Ÿ
```

### NVIDIA GPU
```bash
# è‡ªå‹•åµæ¸¬ä¸¦ä½¿ç”¨ CUDA åŠ é€Ÿ
python3 transcribe.py
# è¼¸å‡º: âœ… ä½¿ç”¨ NVIDIA CUDA åŠ é€Ÿ
```

### CPU æ¨¡å¼
```bash
# è‡ªå‹•å›é€€åˆ° CPU è™•ç†
python3 transcribe.py
# è¼¸å‡º: âœ… ä½¿ç”¨ CPU è™•ç†
```

## è¨˜æ†¶é«”å„ªåŒ–ç¯„ä¾‹

### é«˜è¨˜æ†¶é«”ç³»çµ± (16GB+)
```
æ™ºèƒ½åˆ†æ®µå¤§å°: 300ç§’, é‡ç–Š: 10ç§’
æ‰¹æ¬¡å¤§å°: 2
ç²¾åº¦: torch.float16
```

### ä¸­ç­‰è¨˜æ†¶é«”ç³»çµ± (8-16GB)
```
æ™ºèƒ½åˆ†æ®µå¤§å°: 180ç§’, é‡ç–Š: 5ç§’
æ‰¹æ¬¡å¤§å°: 1
ç²¾åº¦: torch.float16
```

### ä½è¨˜æ†¶é«”ç³»çµ± (<8GB)
```
æ™ºèƒ½åˆ†æ®µå¤§å°: 60ç§’, é‡ç–Š: 3ç§’
æ‰¹æ¬¡å¤§å°: 1
ç²¾åº¦: torch.float32
```

## éŸ³è¨Šé è™•ç†ç¯„ä¾‹

### ç©ºç™½æ®µè½ç§»é™¤
```
ğŸ” åµæ¸¬ç©ºç™½æ®µè½ (é–¾å€¼: -30dB, æœ€å°é•·åº¦: 1.0ç§’)...
ğŸ“Š åµæ¸¬åˆ° 5 å€‹ç©ºç™½æ®µè½
âœ‚ï¸  ç§»é™¤ç©ºç™½æ®µè½ä¸¦åˆä½µæœ‰æ•ˆéŸ³è¨Š...
ğŸ“Š æª”æ¡ˆå¤§å°æ¸›å°‘: 23.5%
```

### éŸ³é‡å¢å¼·
```
éŸ³è¨Šæ ¼å¼: aac
æ¡æ¨£ç‡: 48000 Hz
è²é“æ•¸: 1
æ™‚é•·: 3600.0 ç§’
éŸ³é‡: -32.5 dB
å‹•æ…‹éŸ³é‡å¢å¼·: 26.5 dB
```

## æ¨¡å‹åˆ‡æ›ç¯„ä¾‹

### ä¸»è¦æ¨¡å‹ (Breeze-ASR-25)
```
ğŸ¤– æ™ºèƒ½è¼‰å…¥èªéŸ³è½‰éŒ„æ¨¡å‹...
ğŸ¯ ä¸»è¦æ¨¡å‹: Breeze-ASR-25 (å°ç£ä¸­æ–‡å„ªåŒ–)
âœ… Breeze-ASR-25 æ¨¡å‹è¼‰å…¥å®Œæˆï¼
```

### å‚™ç”¨æ¨¡å‹ (Whisper)
```
âš ï¸  ä¸»è¦æ¨¡å‹ç„¡æ³•è­˜åˆ¥å…§å®¹ï¼Œå˜—è©¦å‚™ç”¨æ¨¡å‹...
ğŸ”„ åˆ‡æ›åˆ° Whisper æ¨¡å‹...
âœ… ä½¿ç”¨ Whisper æ¨¡å‹é‡æ–°è½‰éŒ„
```

## åˆ†æ®µè™•ç†ç¯„ä¾‹

### å¯¦æ™‚åˆ†æ®µè½‰éŒ„
```
ğŸ“Š é–‹å§‹åˆ†æ®µè½‰éŒ„ (180ç§’/æ®µ)...
ğŸ”„ è™•ç†æ®µè½ 1/20 (0.0s - 180.0s)...
âœ… æ®µè½ 1 è½‰éŒ„å®Œæˆ
ğŸ”„ è™•ç†æ®µè½ 2/20 (180.0s - 360.0s)...
âœ… æ®µè½ 2 è½‰éŒ„å®Œæˆ
```

### çºŒè½‰åŠŸèƒ½
```
ğŸ” æª¢æŸ¥ç¾æœ‰è½‰éŒ„çµæœ...
ğŸ“ æ‰¾åˆ°åŒ¹é…çš„çµæœæª”æ¡ˆ: result-source-20250903_224449.txt
âœ… æª”æ¡ˆå¤§å°å’Œæ™‚é•·åŒ¹é…ï¼ŒçºŒæ¥è½‰éŒ„
ğŸ”„ å¾æ®µè½ 15 é–‹å§‹çºŒè½‰...
```

## æ•…éšœæ’é™¤ç¯„ä¾‹

### è¨˜æ†¶é«”ä¸è¶³
```
âš ï¸  è¨˜æ†¶é«”ä½¿ç”¨ç‡éé«˜ï¼Œå»ºè­°é—œé–‰å…¶ä»–æ‡‰ç”¨ç¨‹å¼
ğŸ“Š è¼‰å…¥å¾Œè¨˜æ†¶é«”ä½¿ç”¨: 92.3%
ğŸ’¡ è‡ªå‹•èª¿æ•´åƒæ•¸ä»¥é©æ‡‰å¯ç”¨è¨˜æ†¶é«”
```

### FFmpeg éŒ¯èª¤
```
âŒ WAV è½‰æ›å¤±æ•—: ffmpeg: command not found
ğŸ’¡ è«‹å®‰è£ FFmpeg: brew install ffmpeg
```

### æ¨¡å‹è¼‰å…¥å¤±æ•—
```
âš ï¸  Breeze-ASR-25 è¼‰å…¥å¤±æ•—: Connection timeout
ğŸ”„ åˆ‡æ›åˆ°å‚™ç”¨ Whisper æ¨¡å‹...
âœ… Whisper å‚™ç”¨æ¨¡å‹è¼‰å…¥å®Œæˆï¼
```

## æ•ˆèƒ½ç›£æ§ç¯„ä¾‹

### é€²åº¦é¡¯ç¤º
```
ğŸ”„ è½‰éŒ„é€²åº¦: 45% (æ®µè½ 9/20)
â±ï¸  å·²ç”¨æ™‚é–“: 12åˆ†30ç§’
ğŸ“Š é ä¼°å‰©é¤˜: 15åˆ†20ç§’
ğŸ’¾ è¨˜æ†¶é«”ä½¿ç”¨: 73.2%
```

### å®Œæˆçµ±è¨ˆ
```
ğŸ¯ è½‰éŒ„å®Œæˆï¼
ğŸ“Š ç¸½è™•ç†æ™‚é–“: 27åˆ†50ç§’
ğŸ“ çµæœæª”æ¡ˆ: è½‰éŒ„çµæœ/result-source-20250903_230000.txt
ğŸ’¾ æœ€çµ‚è¨˜æ†¶é«”ä½¿ç”¨: 68.5%
```

## faster-whisper æ•´åˆç¯„ä¾‹

### è‡ªå‹• faster-whisper æ”¯æ´
```python
# ç¨‹å¼æœƒè‡ªå‹•åµæ¸¬ä¸¦ä½¿ç”¨ faster-whisper
# å¦‚æœå¯ç”¨ï¼Œæœƒå„ªå…ˆä½¿ç”¨ faster-whisper ä½œç‚ºå‚™ç”¨æ¨¡å‹
# æ•ˆèƒ½æå‡ 4-5 å€

# æ‰‹å‹•å•Ÿç”¨ faster-whisper
pip install faster-whisper
python3 transcribe.py
```

### Colab ç‰ˆæœ¬ä½¿ç”¨
```python
# åœ¨ Google Colab ä¸­ä½¿ç”¨
# åƒè€ƒ examples/colab_example.py

# ä¸Šå‚³åˆ° Colab ä¸¦åŸ·è¡Œ
# è‡ªå‹•åµæ¸¬ GPU/CPU ä¸¦å„ªåŒ–åƒæ•¸
# æ”¯æ´ VAD å’Œæ™ºèƒ½ç©ºç™½æ®µè½ç§»é™¤
```

## è‡ªå®šç¾©è¨­å®šç¯„ä¾‹

### ä¿®æ”¹åˆ†æ®µå¤§å°
```python
# åœ¨ transcribe.py ä¸­ä¿®æ”¹
def _optimize_parameters(self):
    # è‡ªå®šç¾©åˆ†æ®µå¤§å°
    if available_memory_gb >= 16:
        segment_duration = 600  # 10åˆ†é˜åˆ†æ®µ
    elif available_memory_gb >= 8:
        segment_duration = 300  # 5åˆ†é˜åˆ†æ®µ
    else:
        segment_duration = 180  # 3åˆ†é˜åˆ†æ®µ
```

### ä¿®æ”¹éŸ³é‡å¢å¼·
```python
# åœ¨ preprocess_audio æ–¹æ³•ä¸­ä¿®æ”¹
volume_boost = min(volume_boost, 40)  # æœ€å¤§å¢å¼· 40dB
```

### ä¿®æ”¹ç©ºç™½åµæ¸¬é–¾å€¼
```python
# åœ¨ _detect_silence_segments æ–¹æ³•ä¸­ä¿®æ”¹
silence_segments = self._detect_silence_segments(
    temp_wav, 
    silence_threshold=-25,  # æ›´æ•æ„Ÿçš„ç©ºç™½åµæ¸¬
    min_silence_duration=0.5  # æ›´çŸ­çš„ç©ºç™½æ®µè½
)
```
